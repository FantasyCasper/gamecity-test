<!DOCTYPE html>
<html lang="nl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gamecity Dashboard</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="icons/icon-192x192.png">
</head>

<body>

    <button id="logout-button">Uitloggen</button>

    <div class="container">
        <div class="main-nav">
            <button id="mobile-menu-toggle">â˜° Menu</button>
            <button class="main-tab-link active" data-tab="tab-algemeen">Algemeen</button>
            <button class="main-tab-link" data-tab="tab-checklists">Checklists</button>
            <button class="main-tab-link" data-tab="tab-algemeen-defect">Meld Defect</button>
            <a href="kart-dashboard/index.html" class="main-tab-link" data-tab="tab-kart-dashboard">Kart Dashboard</a>
            <a href="admin/admin.html" id="admin-log-link" class="main-tab-link admin-tab">Admin Panel</a>
        </div>

        <div id="tab-algemeen" class="tab-content active">
            <h1>Activiteitencentrum Dashboard</h1>
            <h2>Welkom, <span id="algemeen-welkom-naam">...</span>!</h2>

            <p>Dit is de algemene informatiepagina.</p>
            <ul>
                <li>Ga naar het "Checklists" tabblad om je taken te starten.</li>
                <li>Meld eventuele defecten aan de karts via het "Kart Dashboard" tabblad.</li>
                <li>Meld alle overige defecten via het "Meld Defect" tabblad.</li>
            </ul>

            <div id="bijzonderheden-container">
                <h3>Bijzonderheden van Gisteren</h3>
                <table id="bijzonderheden-table">
                    <thead>
                        <tr>
                            <th>Medewerker</th>
                            <th>Activiteit</th>
                            <th>Lijst</th>
                            <th>Bijzonderheid</th>
                        </tr>
                    </thead>
                    <tbody id="bijzonderheden-body">
                        <tr>
                            <td colspan="4">Laden...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div id="tab-checklists" class="tab-content">
            <div class="user-info">
                <div class="info-veld">
                    <label for="activiteit-select">Kies activiteit:</label>
                    <select id="activiteit-select">
                        <option value="">-- Selecteer een activiteit --</option>
                    </select>
                </div>
            </div>
            
            <div id="status-message"></div>

            <div class="checklist-section" id="sectie-openen">
                <button class="collapsible">Checklist Openen</button>
                <div class="content">
                    
                    <div id="progress-container-openen" style="display:none; margin: 10px 0; background-color: #222; padding: 10px; border-radius: 8px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                            <span style="font-weight:bold; font-size:0.8em; color:#aaa;">Voortgang Openen:</span>
                            <span id="progress-text-openen" style="font-weight:bold; color: #fff; font-size:0.8em;">0%</span>
                        </div>
                        <div style="background:#444; height:8px; border-radius:4px; overflow:hidden;">
                            <div id="progress-bar-openen" style="width:0%; height:100%; background:#28a745; transition: width 0.3s;"></div>
                        </div>
                    </div>

                    <ul id="lijst-openen"></ul>
                    
                    <label for="bijzonderheden-openen" class="bijzonderheden-label">Bijzonderheden:</label>
                    <textarea id="bijzonderheden-openen" class="bijzonderheden-text" rows="3"
                        placeholder="Typ hier eventuele opmerkingen..."></textarea>
                    
                    <button class="submit-button" id="btn-openen" onclick="verstuurData('Checklist Openen')">Openen
                        Voltooid & Verzenden</button>
                </div>
            </div>

            <div class="checklist-section" id="sectie-sluiten">
                <button class="collapsible">Checklist Sluiten</button>
                <div class="content">
                    
                    <div id="progress-container-sluiten" style="display:none; margin: 10px 0; background-color: #222; padding: 10px; border-radius: 8px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                            <span style="font-weight:bold; font-size:0.8em; color:#aaa;">Voortgang Sluiten:</span>
                            <span id="progress-text-sluiten" style="font-weight:bold; color: #fff; font-size:0.8em;">0%</span>
                        </div>
                        <div style="background:#444; height:8px; border-radius:4px; overflow:hidden;">
                            <div id="progress-bar-sluiten" style="width:0%; height:100%; background:#28a745; transition: width 0.3s;"></div>
                        </div>
                    </div>

                    <ul id="lijst-sluiten"></ul>
                    
                    <label for="bijzonderheden-sluiten" class="bijzonderheden-label">Bijzonderheden:</label>
                    <textarea id="bijzonderheden-sluiten" class="bijzonderheden-text" rows="3"
                        placeholder="Typ hier eventuele opmerkingen..."></textarea>
                    
                    <button class="submit-button" id="btn-sluiten" onclick="verstuurData('Checklist Sluiten')">Sluiten
                        Voltooid & Verzenden</button>
                </div>
            </div>
        </div>

        <div id="tab-algemeen-defect" class="tab-content">
            <h1>Algemeen Defect Melden</h1>
            <p>Meld hier defecten voor locaties (Baan, Lasergame, etc. excl. karts)</p>

            <div id="algemeen-defect-status" class="status-bericht"></div>

            <form id="algemeen-defect-form" class="user-info">
                <div class="form-veld">
                    <label for="locatie-select">Activiteit / Locatie:</label>
                    <select id="locatie-select" required>
                        <option value="">-- Selecteer Locatie --</option>
                        <option value="Baan">Baan</option>
                        <option value="Lasergame">Lasergame</option>
                        <option value="Prison Island">Prison Island</option>
                        <option value="Minigolf">Minigolf</option>
                        <option value="Algemeen">Algemeen</option>
                    </select>
                </div>
                <div class="form-veld">
                    <label for="algemeen-defect-omschrijving">Omschrijving Defect:</label>
                    <textarea id="algemeen-defect-omschrijving" rows="6" placeholder="Omschrijf het probleem..."
                        required></textarea>
                </div>
                <button type="submit" id="algemeen-defect-submit" class="submit-button">Meld Algemeen Defect</button>
            </form>

            <hr style="border: 0; border-top: 1px solid #444; margin: 30px 0;">
            
            <h2>Huidige Defecten</h2>
            
            <div class="form-bar user-info" style="margin-bottom: 20px; background-color: #222;">
                <span>Toon:</span>
                <select id="filter-algemeen-locatie">
                    <option value="alle">Alle Locaties (Gegroepeerd)</option>
                    <option value="Baan">Baan</option>
                    <option value="Lasergame">Lasergame</option>
                    <option value="Prison Island">Prison Island</option>
                    <option value="Minigolf">Minigolf</option>
                    <option value="Algemeen">Algemeen</option>
                </select>
            </div>

            <div id="algemeen-defecten-grid" class="problem-card-grid">
                <p>Laden...</p>
            </div>
        </div>

    </div>
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('service-worker.js');
        }
    </script>
    <script src="script.js"></script>
</body>

</html>